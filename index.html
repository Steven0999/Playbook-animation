<!-- index.html â€” NBA-accurate full and half court with draggable tokens and basketball emoji --><!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NBA Court â€” Full & Half Court with Draggable Tokens and Ball</title>
  <style>
    :root { --court-fill: #f6e7bf; --line: #1f1f1f; }
    body { font-family: Inter, Arial, sans-serif; margin: 0; padding: 18px; background:#fafafa; }
    h1 { text-align:center; font-size:20px; margin:0 0 12px; }
    .controls { text-align:center; margin-bottom:12px; }
    button { margin:0 6px; padding:8px 12px; border-radius:8px; border:1px solid #bbb; background:#fff; cursor:pointer; }
    .court-container { width: 94vw; max-width:980px; margin: 0 auto; border-radius:10px; border:6px solid #b57b2a; background: var(--court-fill); overflow:hidden; touch-action:none; }
    .court-inner { width:100%; height:0; padding-bottom:53.19%; position:relative; }
    svg { position:absolute; inset:0; width:100%; height:100%; display:block; }.token { position:absolute; width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow:0 6px 18px rgba(0,0,0,0.18); cursor:grab; user-select:none; }
.ball { width:24px; height:24px; font-size:20px; background:none; box-shadow:none; }
pre { width: 94vw; max-width:980px; margin:12px auto 0; background:#efefef; padding:10px; border-radius:8px; font-size:12px; }

  </style>
</head>
<body>
  <h1>NBA Court (94'Ã—50') â€” Full & Half Court with Draggable Tokens and Ball</h1>
  <div class="controls">
    <button id="toggle">Toggle: Full Court â†’ Half Court</button>
    <button id="reset">Reset Positions</button>
    <button id="copy">Copy Positions</button>
  </div>  <div class="court-container" id="court">
    <div class="court-inner" id="courtInner">
      <svg id="courtSVG" viewBox="0 0 940 500" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
        <rect x="0" y="0" width="940" height="500" fill="var(--court-fill)" />
        <rect x="6" y="6" width="928" height="488" rx="6" fill="none" stroke="#b57b2a" stroke-width="6" />
        <line id="midLine" x1="470" y1="0" x2="470" y2="500" stroke="var(--line)" stroke-width="6" />
        <circle id="midCircle" cx="470" cy="250" r="60" fill="none" stroke="var(--line)" stroke-width="5" /><g id="leftEnd">
      <rect x="0" y="170" width="190" height="160" fill="none" stroke="var(--line)" stroke-width="5" />
      <circle cx="190" cy="250" r="60" fill="none" stroke="var(--line)" stroke-width="5" stroke-dasharray="6 6" />
      <circle cx="40" cy="250" r="6" fill="var(--line)" />
      <line x1="44" y1="235" x2="44" y2="265" stroke="var(--line)" stroke-width="6" />
      <path id="left3pt" fill="none" stroke="var(--line)" stroke-width="5" />
    </g>

    <g id="rightEnd">
      <rect x="750" y="170" width="190" height="160" fill="none" stroke="var(--line)" stroke-width="5" />
      <circle cx="750" cy="250" r="60" fill="none" stroke="var(--line)" stroke-width="5" stroke-dasharray="6 6" />
      <circle cx="900" cy="250" r="6" fill="var(--line)" />
      <line x1="896" y1="235" x2="896" y2="265" stroke="var(--line)" stroke-width="6" />
      <path id="right3pt" fill="none" stroke="var(--line)" stroke-width="5" />
    </g>
  </svg>
</div>

  </div>  <pre id="positions"></pre>  <script>
    const SCALE = 10;
    const COURT_LENGTH_FT = 94;
    const COURT_WIDTH_FT = 50;
    const RIM_FROM_BASELINE_FT = 4;
    const THREE_PT_RADIUS_FT = 23.75;

    function describe3ptArc(cx, cy, radiusFt) {
      const r = radiusFt * SCALE;
      const start = -80 * Math.PI / 180;
      const end = 80 * Math.PI / 180;
      const startX = cx + r * Math.cos(start);
      const startY = cy + r * Math.sin(start);
      const endX = cx + r * Math.cos(end);
      const endY = cy + r * Math.sin(end);
      return `M ${startX} ${startY} A ${r} ${r} 0 0 1 ${endX} ${endY}`;
    }

    function refresh3pt() {
      const leftCx = RIM_FROM_BASELINE_FT * SCALE;
      const rightCx = (COURT_LENGTH_FT - RIM_FROM_BASELINE_FT) * SCALE;
      const cy = (COURT_WIDTH_FT / 2) * SCALE;
      document.getElementById('left3pt').setAttribute('d', describe3ptArc(leftCx, cy, THREE_PT_RADIUS_FT));
      document.getElementById('right3pt').setAttribute('d', describe3ptArc(rightCx, cy, THREE_PT_RADIUS_FT));
    }

    refresh3pt();

    const courtInner = document.getElementById('courtInner');
    const positionsDisplay = document.getElementById('positions');

    let players = [
      { id: 1, label: '1', color: '#ef4444', x: 12, y: 20 },
      { id: 2, label: '2', color: '#f59e0b', x: 30, y: 20 },
      { id: 3, label: '3', color: '#10b981', x: 50, y: 20 },
      { id: 4, label: '4', color: '#3b82f6', x: 40, y: 50 },
      { id: 5, label: '5', color: '#8b5cf6', x: 60, y: 50 },
      { id: 6, label: 'ðŸ€', color: 'none', x: 50, y: 40, isBall: true }
    ];

    function createTokens() {
      courtInner.querySelectorAll('.token').forEach(t => t.remove());
      players.forEach(p => {
        const d = document.createElement('div');
        d.className = 'token' + (p.isBall ? ' ball' : '');
        d.textContent = p.label;
        if (!p.isBall) d.style.background = p.color;
        d.style.left = `calc(${p.x}% - ${(p.isBall ? 12 : 18)}px)`;
        d.style.top = `calc(${p.y}% - ${(p.isBall ? 12 : 18)}px)`;
        d.dataset.id = p.id;
        courtInner.appendChild(d);
      });
      positionsDisplay.textContent = JSON.stringify(players, null, 2);
    }

    createTokens();

    let draggingId = null;
    let dragOffset = { x:0, y:0 };

    courtInner.addEventListener('pointerdown', (ev) => {
      const t = ev.target.closest('.token');
      if (!t) return;
      draggingId = Number(t.dataset.id);
      const rect = t.getBoundingClientRect();
      dragOffset.x = ev.clientX - (rect.left + rect.width/2);
      dragOffset.y = ev.clientY - (rect.top + rect.height/2);
      t.setPointerCapture(ev.pointerId);
    });

    window.addEventListener('pointermove', (ev) => {
      if (!draggingId) return;
      const rect = courtInner.getBoundingClientRect();
      const adjX = ev.clientX - dragOffset.x;
      const adjY = ev.clientY - dragOffset.y;
      let px = ((adjX - rect.left) / rect.width) * 100;
      let py = ((adjY - rect.top) / rect.height) * 100;
      px = Math.max(0, Math.min(100, px));
      py = Math.max(0, Math.min(100, py));
      players = players.map(p => p.id === draggingId ? { ...p, x: px, y: py } : p);
      const el = courtInner.querySelector(`.token[data-id='${draggingId}']`);
      if (el) {
        el.style.left = `calc(${px}% - ${(players.find(p=>p.id===draggingId).isBall ? 12 : 18)}px)`;
        el.style.top = `calc(${py}% - ${(players.find(p=>p.id===draggingId).isBall ? 12 : 18)}px)`;
      }
      positionsDisplay.textContent = JSON.stringify(players, null, 2);
    });

    window.addEventListener('pointerup', () => draggingId = null);

    document.getElementById('toggle').addEventListener('click', () => {
      const btn = document.getElementById('toggle');
      const svg = document.getElementById('courtSVG');
      if (svg.getAttribute('viewBox') === '0 0 940 500') {
        svg.setAttribute('viewBox','0 0 470 500');
        document.getElementById('midLine').style.display = 'none';
        document.getElementById('midCircle').style.display = 'none';
        btn.textContent = 'Toggle: Half Court â†’ Full Court';
      } else {
        svg.setAttribute('viewBox','0 0 940 500');
        document.getElementById('midLine').style.display = '';
        document.getElementById('midCircle').style.display = '';
        btn.textContent = 'Toggle: Full Court â†’ Half Court';
      }
    });

    document.getElementById('reset').addEventListener('click', () => {
      players = [
        { id: 1, label: '1', color: '#ef4444', x: 12, y: 20 },
        { id: 2, label: '2', color: '#f59e0b', x: 30, y: 20 },
        { id: 3, label: '3', color: '#10b981', x: 50, y: 20 },
        { id: 4, label: '4', color: '#3b82f6', x: 40, y: 50 },
        { id: 5, label: '5', color: '#8b5cf6', x: 60, y: 50 },
        { id: 6, label: 'ðŸ€', color: 'none', x: 50, y: 40, isBall: true }
      ];
      createTokens();
    });

    document.getElementById('copy').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(JSON.stringify(players, null, 2));
        alert('Positions copied to clipboard');
      } catch {
        alert('Copy failed. Positions:\n' + JSON.stringify(players, null, 2));
      }
    });

    window.addEventListener('resize', refresh3pt);
  </script></body>
</html>
